let configure,express,createDbConnection,AppMiddleware,AppRouter;_bda‍.w("./config",[["default",["configure"],function(v){configure=v}]]);_bda‍.w("express",[["default",["express"],function(v){express=v}]]);_bda‍.w("./database/connection",[["default",["createDbConnection"],function(v){createDbConnection=v}]]);_bda‍.w("./middlewares/app-middleware",[["default",["AppMiddleware"],function(v){AppMiddleware=v}]]);_bda‍.w("./routes",[["default",["AppRouter"],function(v){AppRouter=v}]]);







configure();

createDbConnection()
.then((connection)=>{
    if(connection.isConnected){
        const app = express();
        app.use(AppMiddleware);
        app.use(AppRouter);
        app.listen(process.env.APP_PORT, ()=>{
            console.log(`${process.env.APP_NAME} listening on port ${process.env.APP_PORT}`)
        })
    }
}).catch((error)=>{
    console.error('Error starting up server')
    _bda‍.g.console.error(error);
})

